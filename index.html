<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Java to Go, Google Go für Java Entwickler | Jan Stamer</title>

    <link rel="stylesheet" href="/node_modules/reveal.js/dist/reset.css">
    <link rel="stylesheet" href="/node_modules/reveal.js/dist/reveal.css">
    <link rel="stylesheet" href="/node_modules/reveal.js/dist/theme/moon.css" id="theme">

    <link rel="stylesheet" href="/themes/reveal-run-in-terminal.css" />

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="https://highlightjs.org/static/demo/styles/tomorrow-night.css" id="highlight-theme">


    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <section>
                <h1>Java to Go <small>Google Go für Java Entwickler</small></h1>
            </section>
            <!--
    
                https://images.unsplash.com/photo-1608056069613-5629ee466519?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1340&q=80
-->
            <section >
                <h2>5 Fakten zu Go</h2>
                <div class="grid grid-cols-12 gap-1 items-center">
                    <div class="col-span-9">
                        <ol>
                            <li>statisches Typsystem</li>
                            <li>Garbage Collection</li>
                            <li>Concurrency eingebaut</li>
                            <li>mächtige Standardbibliothek</li>
                            <li>Ausführung als Binärdatei (ohne virtuelle Maschine)</li>
                        </ol>
                    </div>
                    <div class="col-span-3">
                        <img src="https://raw.githubusercontent.com/golang-samples/gopher-vector/master/gopher.svg" />
                    </div>
                </div>


            </section>
            <section>
                <section>
                    <h2 class="r-fit-text">Die Cloud liebt Go.</h2>
                </section>
                <section
                    data-background-size="30%"
                    data-background-image="https://github.com/ashleymcnamara/gophers/raw/master/Kubernetes_Gophers.png">
                </section>
                <section
                    data-background-size="60%"
                    data-background-image="https://github.com/ashleymcnamara/gophers/raw/master/cncf.png">                        
                </section>
            </section>

            <section>
                <section data-run-in-terminal="01_hellogopher\hellogopher.go" data-run-in-terminal-bin="go">
                    <h2>Hello Gopher</h2>
                    <pre><code data-trim data-noescape class="go">
                        package main
    
                        import "fmt"
                        
                        func main() {
                          fmt.Println("Hello Gopher!")
                        }
                    </code></pre>
                    <div class="fragment">
                        Programm ausführen
                        <pre class="fragment"><code data-trim data-noescape>
                        go build hellogopher.go // 1. Code kompilieren
                        ./hellogopher           // 2. Binary ausführen
                        </code></pre>
                        <pre class="fragment"><code data-trim data-noescape>
                            go run hellogopher.go   // Code kompilieren und ausführen
                        </code></pre>
                    </div>
                    <aside class="notes">
                        - Every Go program is made up of packages.
                        - Programs start running in package main.
                        This program is using the packages with import paths "fmt" and "math/rand".
                    </aside>
                </section>
                <section>
                    <h2>Go Coding</h2>
                    TODO
                </section>
            </section>
            <section>
                <h2>Go Basics</h2>
                <pre style="font-size: 0.48em;"><code data-trim data-noescape class="go">
                      // Variablen
                      var frank string = "Frank"
                      claire := "Claire"


                      // Array (fixe Länge) und Slice (variable Länge)
                      namesArray := [3]string{frank, claire, "Zoe"}

                      namesSlice := make([]string, 2)
                      namesSlice[0] = frank
                      namesSlice[1] = claire


                      // Schleife
                      for i, name := range namesSlice {
                        fmt.Println("Hello " + name + "!")
                      }
               </code></pre>
            </section>
            <!--
            <section>
                <h2>Go funcy</h2>
                <pre><code data-trim data-noescape class="go">
                    package main

                    import "fmt"
                    
                    func HelloGopher() string {
                      fmt.Println("Hello Gopher!")
                    }
                    
                    func main() {
                      HelloGopher()
                    }
                </code></pre>
            </section>
            -->
            <section>
                <section>
                    <h1>Structs</h1>
                </section>
                <section data-run-in-terminal="02_struct\congressman.go" data-run-in-terminal-bin="go">
                    <h2>Congressman Russo</h2>
                    <pre><code data-trim data-noescape data-line-numbers="1-3,6,7" class="go">
                        type Congressman struct {
                          Name string
                        }
                        
                        func main() {
                          c := Congressman{Name: "Peter Russo"}
                          fmt.Println("Hello " + c.Name + "!")
                        }
                 </code></pre>
                </section>
                <section data-run-in-terminal="02_struct_fun\congressman.go" data-run-in-terminal-bin="go">
                    <h2>Oath of Office</h2>
                    <pre><code data-trim data-noescape data-trim data-noescape data-line-numbers="4-7,10-11" class="go">
                        type Congressman struct {
                          Name string
                        }
                        
                        func (c Congressman) swearOathOfOffice() {
                          fmt.Printf("I, %v, swear to serve the USA.", c.Name)
                        }
                        
                        func main() {
                          c := Congressman{Name: "Peter Russo"}
                          c.swearOathOfOffice();
                        }
                 </code></pre>
                </section>
                <section>
                    <h2>Structs Recap</h2>
                </section>
            </section>
            <section>
                <section>
                    <h1>Referenzen und Pointer</h1>
                </section>
                <section data-run-in-terminal="03_pointer\congressman.go" data-run-in-terminal-bin="go">
                    <h2>Peter Russo bestechen #1</h2>
                    <pre style="font-size: 0.48em;"><code data-trim data-line-numbers="3,6-8,11-13"  data-noescape class="go">
                        type Congressman struct {
                          Name string
                          AccountBalance float64
                        }
                        
                        func (c Congressman) bribe(amount float64) {
                          c.AccountBalance += amount 
                        }
                        
                        func main() {
                          c := Congressman{Name: "Peter Russo", AccountBalance: -10.0}
                          c.bribe(5000.0)

                          fmt.Printf("%v is worth %v", c.Name, c.AccountBalance)
                        }
                 </code></pre>
                </section>
                <section data-run-in-terminal="03_pointer_fix\congressman.go" data-run-in-terminal-bin="go">
                    <h2>Peter Russo bestechen #2</h2>
                    <pre style="font-size: 0.48em;"><code data-trim data-line-numbers="6,11,12"  data-noescape class="go">
                          type Congressman struct {
                            Name string
                            AccountBalance float64
                          }
                          
                          func (c *Congressman) bribe(amount float64) {
                            c.AccountBalance += amount 
                          }
                          
                          func main() {
                            c := &Congressman{Name: "Peter Russo", AccountBalance: -10.0}
                            c.bribe(5010.0)
  
                            fmt.Printf("%v is worth %v", c.Name, c.AccountBalance)
                          }
                 </code></pre>
                </section>
                <section>
                    <h2>Referencen und Pointer Recap</h2>
                </section>
            </section>
            <section>
                <section>
                    <h1>Interfaces</h1>
                </section>
                <section data-run-in-terminal="04_interface\congressman.go" data-run-in-terminal-bin="go">
                    <h2>Abgeordnete grüßen</h2>
                    <div class="grid grid-cols-2 gap-1">
                        <div class="text-left fragment">
                            <span style="font-size: 80%; margin-left: 20px;">1. Gruß per Function</span>
                            <pre style="font-size: 0.44em;"><code data-trim data-noescape class="go">
                    type Congressman struct {
                        Name string
                    }

                    func (c *Congressman) greet() {
                      fmt.Println("Hello!")
                    }


                    type Enemy struct{}
 
                    func (e *Enemy) greet() {
                     fmt.Println("Go to hell!")   
                    }
                        </code></pre>
                        </div>
                        <div class="text-left fragment">
                            <span style="font-size: 80%; margin-left: 20px;">2. Gegenseitiges Grüßen</span>
                            <pre style="font-size: 0.44em;"><code data-trim data-noescape class="go">
                            type Greeter interface {
                              greet()   
                            }
        
                            func passBy(c1 Greeter, c2 Greeter) {
                              c1.greet()
                              c2.greet()  
                            }
                            
                            func main() {
                              c := &Congressman{Name: "Frank U."}
                              e := &Enemy{}
                              passBy(c, e)
                            }
                        </code></pre>
                        </div>
                    </div>
                </section>

                <section>
                    <h2>Interfaces</h2>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <span style="font-size: 80%;"></span>
                            <ul>
                                <li>enthalten Methodensignaturen</li>
                                <li>
                                    werden implizit implementiert
                                </li>
                                <li>
                                    implementiert ein Typ alle Methoden des Interfaces, so implementiert er das
                                    Interface
                                </li>
                            </ul>
                        </div>
                        <div>
                            <span style="font-size: 80%;"></span>
                            <pre style="font-size: 0.44em;"><code data-trim data-noescape class="go">
                            type Greeter interface {
                              greet()   
                            }
        
                            func passBy(c1 Greeter, c2 Greeter) {
                              c1.greet()
                              c2.greet()  
                            }
                            
                            func main() {
                              c := &Congressman{Name: "Frank U."}
                              s := &Enemy{}
                              passBy(c, s)
                            }
                        </code></pre>
                        </div>
                    </div>
                </section>
            </section>
            <section>
                <section>
                    <h1>Fehler</h1>
                </section>
                <section data-run-in-terminal="05_error\congressman.go" data-run-in-terminal-bin="go">
                    <h2>Fehler</h2>
                            <pre style="font-size: 0.44em; overflow: hidden;"><code data-trim data-noescape data-line-numbers="1-4,6-7,12-15" class="go">
                                func (c Congressman) bribe(amount float64) error {
                                  if c.Name != "Peter Russo" {
                                      return errors.New("Not corrupt!")
                                  }
                                  c.AccountBalance += amount
                                  return nil
                                }
    
                                func main() {
                                  c := Congressman{Name: "Jackie Sharp", AccountBalance: -10.0}

                                  err := c.bribe(5000.0)
                                  if err != nil {
                                      fmt.Printf("%v is not bribable.", c.Name)
                                  }
                                
                                  fmt.Printf("%v is worth %v", c.Name, c.AccountBalance)
                                }
                            </code></pre>
                </section>
                <section>
                    <h2>Fehler</h2>
                    <div class="grid grid-cols-3 gap-1">
                        <div class="col-span-2">
                            <pre style="font-size: 0.48em;"><code data-trim data-noescape class="go">
                                func (c Congressman) bribe(amount float64) error {
                                  if c.Name != "Peter Russo" {
                                      return errors.New("Not corrupt!")
                                  }
                                  c.AccountBalance += amount
                                  return nil
                                }
    
                                func main() {
                                  c := Congressman{Name: "Jackie Sharp", AccountBalance: -10.0}
                                  err := c.bribe(5000.0)
                                
                                  if err != nil {
                                      fmt.Printf("%v is not bribable.\n", c.Name)
                                  }
                                
                                  fmt.Printf("%v is worth %v", c.Name, c.AccountBalance)
                                }
                            </code></pre>
                        </div>
                        <div>
                            <ul>
                                <li>Go kennt kein spezielles Konstrukt zur Fehlerbehandlung</li>
                                <li>Fehler sind normale Rückgabewerte</li>
                            </ul>
                        </div>
                    </div>
                </section>
            </section>

            <section>
                <h2>Testen</h2>
                <pre><code data-trim data-noescape class="go">
                    package main

                    import "testing"
                    
                    func TestSayHelloGopher(t *testing.T) {
                        if HelloGopher() != "Hello Gopher!" {
                            t.Error("Unerwartetes Ergebnis.")
                        }
                    }
                </code></pre>
            </section>
            <section>
                <section>
                    <h2>Nebenläufige Prog<span>ieru</span>rammng</h2>
                </section>
                <section>
                    Parallelism is simply running things in parallel.
                    Concurrency is a way to structure your program.
                    Rob Pike
                </section>
                <section>
                    <h2>Nebenläufigkeit in Go</h2>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <h3>Goroutinen</h3>
                            <ul>
                                <li>
                                    leichtgewichtiger Thread
                                </li>
                                <li>
                                    innerhalb einer Goroutine läuft Code sequentiell ab
                                </li>
                            </ul>
                        </div>
                        <div class="fragment">
                            <h3>Channels</h3>
                            <ul>
                                <li>
                                    Kanal für Nachrichten (mit Puffer)
                                </li>
                                <li>
                                    Kommunikation in eine oder beide Richtungen
                                </li>
                            </ul>
                        </div>
                        <div class="fragment col-span-2">
                            Don't communicate by sharing memory, share memory by communicating.
                            Rob Pike
                            Theorie dahinter: Communicating Sequential Processes
                        </div>
                    </div>
                </section>
                <section data-run-in-terminal="hellogopher.go" data-run-in-terminal-bin="go">
                    <h2>Goroutine #Erstes Beispiel</h2>
                    <div class="grid grid-cols-3 gap-4">
                        <div class="col-span-2">
                            <pre><code data-trim data-noescape class="go">
                    func HelloGopher() {
                        fmt.Println("Hello Gopher!")
                    }
                    
                    func main() {
                        go HelloGopher()
                    }
                    </code></pre>
                        </div>
                        <div>
                            <ul>
                                <li>Schlüsselwort go startet eine Goroutine</li>
                                <li>verhält sich wie & bei Shell Kommando</li>
                            </ul>
                        </div>
                    </div>
                </section>
                <section>
                    <h2>Goroutine mit Wait Group</h2>
                    <pre><code data-trim data-noescape class="go">
                        func HelloGopher() {
                          fmt.Println("Hello Gopher!")
                        }
                        
                        func main() {
                          var waitGroup sync.WaitGroup
                          waitGroup.Add(1)
                          go func() {
                              defer waitGroup.Done()
                              HelloGopher()
                          }()
                          waitGroup.Wait()
                        }
                    </code></pre>
                </section>
                <section>
                    <h2>Channel</h2>
                    <div class="grid grid-cols-3 gap-4">
                        <div class="col-span-2">
                            <pre><code data-trim data-noescape class="go">
                        func Hello(names chan string) {
                            // Nachricht an Channel senden
                            name := <-names

                            fmt.Println("Hello " + name + "!")
                        }
                        
                        func main() {
                            names := make(chan string)
                            go Hello(names)

                            // Nachricht von Channel empfangen
                            names <- "Jim" 
                        }
                            </code></pre>
                        </div>
                        <div>
                            <ul>
                                <li>
                                    select Statement ist wie ein switch für Channels
                                </li>
                                <li>
                                    blockiert bis eine Nachricht auf einem Channel kommt
                                </li>
                            </ul>
                        </div>
                    </div>
                </section>
                <section>
                    <h2>Channel v2</h2>
                    <pre><code data-trim data-noescape class="go">
                        func Hello(names chan string) {
                          select {
                          case name := <-names:
                              fmt.Println("Hello " + name + "!")
                          }
                        }
                        
                        func main() {
                          names := make(chan string)
                          go Hello(names)
                          names <- "Jim" // Nachricht von Channel empfangen
                        }
                    </code></pre>
                </section>
                <section>
                    <h2>Channel mit Timeout</h2>
                    <pre><code data-trim data-noescape class="go" data-line-numbers="5-6,12-13">
                        func Hello(names chan string) {
                            select {
                            case name := <-names:
                                fmt.Println("Hello " + name + "!")
                            case <-time.After(time.Second):
                                fmt.Println("No one here ...!")
                            }
                        }
                        
                        func main() {
                            names := make(chan string)
                            go Hello(names)
                            time.Sleep(3 * time.Second)
                        }
                    </code></pre>
                </section>
            </section>
            <section>
                <h2>Slide 1</h2>
                <pre>
						<code class="language-plantuml">
						  @startuml
						  Alice -> Bob: Authentication Request
						  Bob --> Alice: Authentication Response
						  Alice -> Bob: Another authentication Request
						  Bob --> Alice: Another authentication Response
						  @enduml
						</code>
						</pre>
            </section>
            <section>
                Slide 2
                <div class="grid grid-cols-2 gap-4">
                    <div class="font-sans md:font-serif">test </div>
                    <div class="bg-gray-300">test </div>
                </div>
            </section>
            <section data-background-iframe="https://play.golang.org/p/P7bm9LMZgXu" data-background-interactive>
                <h2>Iframe</h2>
            </section>
            <section data-run-in-terminal="code/example.js" data-run-in-terminal-bin="node">
                <h2>Here Is A Great Example</h2>
            </section>
            <section data-run-in-terminal="hellogopher.go" data-run-in-terminal-bin="go">
                <h2>Here Is A Great Example</h2>
            </section>

            <section data-run-in-terminal="hellogopher.go" data-run-in-terminal-bin="go">
                <pre><code data-trim data-noescape>
                    package main
                    
                    import "fmt"
                    
                    func main() {
                        fmt.Println("Hello Gopher!")
                    }
                </code></pre>
            </section>


            <section>
                <pre><code data-trim data-noescape data-line-numbers="1">
package main

import "fmt"

func main() {
	fmt.Println("Hello Gopher!")
}
                 </code></pre>
            </section>

        </div>
    </div>

    <script src="/node_modules/reveal.js/dist/reveal.js"></script>
    <script src="/node_modules/reveal.js/plugin/notes/notes.js"></script>
    <script src="/node_modules/reveal.js/plugin/markdown/markdown.js"></script>
    <script src="/node_modules/reveal.js/plugin/highlight/highlight.js"></script>
    <script src="/node_modules/reveal.js/plugin/zoom/zoom.js"></script>
    <script>
        Reveal.initialize({
            dependencies: [
                { src: '/node_modules/reveal-plantuml/dist/reveal-plantuml.min.js' },
                {
                    src: '/addons/reveal-run-in-terminal/static/plugin/reveal-run-in-terminal.js',
                    callback: function () {
                        RunInTerminal.init();
                    },
                    async: true,
                },
            ],
            hash: true,

            // Learn about plugins: https://revealjs.com/plugins/
            plugins: [RevealMarkdown, RevealHighlight, RevealNotes, RevealZoom]
        });
    </script>
    <!--
    <script>
        Reveal.addEventListener('slidechanged', function (event) {
            let theme = event.currentSlide.getAttribute("data-theme");
            if (!theme) {
                return;
            }
            console.error(event);
            document.getElementById('theme').setAttribute('href', theme);
        });
    </script>
    -->

</body>

</html>